<!DOCTYPE html>
<html>
  <head>
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height">
    <meta name="description" content="A block of five tiles is called a pentomino. When you rotate this block and stack it up and fill one row tightly, the line disappears and the score goes up. It is a game that competes to see who gets rid of more lines." />
    <!--<meta charset="utf-8">-->

    <title>Crayon Pentix</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
     <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-81183833-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-81183833-2');
    </script>
        
    <!-- Game link-->
    <script src="js/sound_effects.js"></script>
    <script src='js/pentix.js'></script>
    <script src='js/controller.js'></script>
    <script src='js/render.js'></script>
    <script src="js/google_services.js"></script>
    <script>
      function BgmOnOff() {
        var el = document.getElementById("bgmOnOff");
        //console.log(el.innerHTML);
        if (el.innerHTML == "Background Music: Off") {
          el.innerHTML = "Background Music: On";
          soundSettings.bgm = "on";
        } else {
          el.innerHTML = "Background Music: Off";
          soundSettings.bgm = "off";
        }
      }
      
      function soundEffectOnOff() {
        var el = document.getElementById("soundEffectOnOff");
        //console.log(el.innerHTML);
        if (el.innerHTML == "Sound Effect: Off") {
          el.innerHTML = "Sound Effect: On";
          soundSettings.sound = "on";
        } else {
          el.innerHTML = "Sound Effect: Off";
          soundSettings.sound = "off";
        }
      }
    </script>
    <style>
      body {
        /* Disables pull-to-refresh but allows overscroll glow effects. */
        overscroll-behavior-y: contain;
      }
    </style>
  </head>
  <body>
    <div id = "intro" class="menu">
    </div>
    <div id = "menu" class="menu">
      <div class = "topContent">
        <center>
          <div id="signInStat" onclick="Android.reqGamerProfile();">
            <span style='font-size:15px;'>Sign in with Google to share your scores and achievements with your friends.</span>
          </div>
          <button id="logOut" style="display:none;" onclick="Android.signOutFromGS();">SignOut</button>
          <br>
          <img id="logIn" src="img/btn_google_signin_dark_normal_web.png" onclick="Android.signInToGS();">
        </center>
      </div>
      <div class = "text">
        <br>
        <a href="#" onclick="pageChange('game');"><b>Start</b></a>
        <a href="#" onclick="ShowAchievements();"><b>Show Achievements</b></a>
        <a href="#" onclick="ShowHighScores();"><b>Show High Scores</b></a>
        <a href="#" onclick="showSubMenu();"><b>Show Sub Menu</b></a>
        <br>
        <div class = "smallText">
          <a href="javascript:void(0)" onclick="document.getElementById('howtoplay').style.left='0';"><b>How to play</b></a>
        </div>
      </div>
    </div>
    <div id = "game">
      <audio id="clearsound" src="sound/coin1.mp3" preload="auto"></audio>
      <audio id="bgm" src="sound/SomeQuietAfternoon.mp3" preload="auto" loop></audio>
      <div id="score_board">
        <img src="img/undo.png" align="left" onclick="undo_flg = true;">
        Score : <div id="score_num">0</div>
        <img src="img/pause.png" align="right" onclick="showSubMenu();">
      </div>
      <canvas id="game_canvas" width="700" height="1000"></canvas>
    </div>

    <!-- The overlay -->
    <div id="user_result" class="overlay">

      <!-- Button to close the overlay navigation -->
      <a href="javascript:void(0)" class="closebtn" onclick="CloseUserResult()">&times;</a>

      <!-- Overlay content -->
      <div class="overlay-content">
        <img id="user_img" />
        <div class="text">You Scored <div id="user_score"></div></div>
        <a href="#" onclick="ShowAchievements();">Show Achievements</a>
        <a href="#" onclick="ShowHighScores();">Show High Scores</a>
      </div>
    </div>
    
    <!-- Submenu -->
    <div id="Submenu" class="overlay">
      
      <!-- Overlay content -->
      <div class="overlay-content">
        <a href="#" id="bgmOnOff" onclick="BgmOnOff();">Background Music: On</a>
        <a href="#" id="soundEffectOnOff" onclick="soundEffectOnOff();">Sound Effect: On</a>
        <a href="#" onclick="pageChange('menu');hideSubMenu();">Exit Current Game</a>
        <a href="#" onclick="Android.exitApp();">Exit App</a>
        <a href="#" onclick="hideSubMenu();">Resume</a>
      </div>
    </div>
    
    <!-- How to play -->
    <div id="howtoplay" class="overlay" style="background-color:white;">
      <br>
      <center><h1 style="color:#333;">Crayon<br>Pentix</h1></center>
      <h2 style="color:#555;">Crayon Pentix is a Block Drop Game</h2>
      <p style="color:#777;font-weight:bold;">
        &nbsp;A block of five tiles is called a pentomino.<br>
        &nbsp;Pentix is a game of falling pentomino.<br>
        &nbsp;Crayon Pentix is web and android version of pentix game.<br>
        &nbsp;When you rotate and stack falling blocks up<br>
        and fill one line, the line will disappear<br>
        and the score goes up.<br>
        <br><br>
        swipe tiles on mobile.<br>
        <br>
        <a href="javascript:void(0)" onclick="document.getElementById('howtoplay').style.left='-100%';">Back</a>
      </p>
    </div>
  </body>
</html>
